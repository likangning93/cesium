<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <meta
      name="description"
      content="Demo the minimum set of options needed to remove all external dependencies, for offline operation."
    />
    <meta name="cesium-sandcastle-labels" content="Beginner, Showcases" />
    <title>Cesium Demo</title>
    <script type="text/javascript" src="../Sandcastle-header.js"></script>
    <script
      type="text/javascript"
      src="../../../ThirdParty/requirejs-2.1.20/require.js"
    ></script>
    <script type="text/javascript">
      require.config({
        baseUrl: "../../../Source",
        waitSeconds: 60,
      });
    </script>
  </head>
  <body
    class="sandcastle-loading"
    data-sandcastle-bucket="bucket-requirejs.html"
  >
    <style>
      @import url(../templates/bucket.css);
    </style>
    <div id="cesiumContainer" class="fullSize"></div>
    <div id="loadingOverlay"><h1>Loading...</h1></div>
    <div id="toolbar"></div>
    <script id="cesium_sandcastle_script">
      function startup(Cesium) {
        "use strict";
        //Sandcastle_Begin
        var viewer = new Cesium.Viewer("cesiumContainer", {
          imageryProvider: new Cesium.TileMapServiceImageryProvider({
            url: Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII"),
          }),
          requestRenderMode: true,
          scene3DOnly: true,
        });

        viewer.scene.skyBox.show = false;
        viewer.scene.backgroundColor = Cesium.Color.clone(Cesium.Color.WHITE);
        viewer.scene.imageryLayers.get(0).show = false;

        var numberLabelCollection = new Cesium.NumberLabelCollection();

        var WGS84 = Cesium.Ellipsoid.WGS84;
        var zeroZeroCartesian = new Cesium.Cartesian3(
          WGS84.maximumRadius,
          0.0,
          0.0
        );
        var label0 = numberLabelCollection.add({
          numberString: "-+0987654321.,e", //"0.0, 0.0",
          position: zeroZeroCartesian,
          heading: 0.0,
        });

        var label1 = numberLabelCollection.add({
          numberString: "+99.0, 0.0",
          position: new Cesium.Cartesian3(WGS84.maximumRadius, 99.0, 0.0),
          heading: 1.57,
        });

        var label2 = numberLabelCollection.add({
          numberString: "0.0, -99.0",
          position: new Cesium.Cartesian3(WGS84.maximumRadius, 0.0, -99.0),
          heading: 3.14159,
        });

        var pointPrimitives = viewer.scene.primitives.add(
          new Cesium.PointPrimitiveCollection()
        );
        function addPoint(location) {
          pointPrimitives.add({
            color: Cesium.Color.YELLOW,
            position: location,
          });
        }

        addPoint(label0.position);
        addPoint(label1.position);
        addPoint(label2.position);

        viewer.scene.primitives.add(numberLabelCollection);

        var camera = viewer.scene.camera;

        function goView(duration) {
          camera.flyTo({
            destination: new Cesium.Cartesian3(6378300.0, 0.0, 0.0),
            orientation: {
              direction: new Cesium.Cartesian3(-1.0, 0.0, 0.0),
              up: new Cesium.Cartesian3(0.0, 0.0, 1.0),
            },
            duration: duration,
          });
        }

        Sandcastle.addToolbarButton("go view", function () {
          goView(1.0);
        });
        goView(0.0);

        Sandcastle.addToolbarButton("get cam", function () {
          console.log("requested params for current camera view");
          var position = camera.position;
          var direction = camera.direction;
          var up = camera.up;

          console.log(
            "\n\
    Sandcastle.addToolbarButton(VIEW, function() {\n\
        camera.flyTo({\n\
            destination : new Cesium.Cartesian3(" +
              position.x +
              ", " +
              position.y +
              ", " +
              position.z +
              "),\n\
            orientation : {\n\
                direction : new Cesium.Cartesian3(" +
              direction.x +
              ", " +
              direction.y +
              ", " +
              direction.z +
              "),\n\
                up : new Cesium.Cartesian3(" +
              up.x +
              ", " +
              up.y +
              ", " +
              up.z +
              "),\n\
            },\n\
            duration : 1.0\n\
        });\n\
    });"
          );
        });

        //Sandcastle_End
        Sandcastle.finishedLoading();
      }
      if (typeof Cesium !== "undefined") {
        startup(Cesium);
      } else if (typeof require === "function") {
        require(["Cesium"], startup);
      }
    </script>
  </body>
</html>
